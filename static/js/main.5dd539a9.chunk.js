(this["webpackJsonpmarit.expert"]=this["webpackJsonpmarit.expert"]||[]).push([[0],{10:function(e,t,n){e.exports={list:"Page_list__3-PbZ",raceBlock:"Page_raceBlock__1xXJP",raceList:"Page_raceList__1dLDk",raceName:"Page_raceName__3uXuu"}},19:function(e,t,n){e.exports={listItem:"ListItem_listItem__19SwC",form:"ListItem_form__3mbn0",nameInput:"ListItem_nameInput__faji3",btn:"ListItem_btn__20Q78"}},47:function(e,t,n){e.exports={btn:"Button_btn__dgIYo"}},59:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),i=n(22),l=n.n(i),o=n(9),s=n(14),u=n(11),f=n(2),b=n(18),d=n(3),j=Object(b.b)({name:"race",initialState:{items:[]},reducers:{loadData:function(e,t){var n=t.payload;return{items:Object(u.a)(n)}},addRaceItem:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{items:[n].concat(Object(u.a)(e.items))})},renameItem:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{items:Object(u.a)(e.items.map((function(e){return e.id===+n.id?Object(d.a)(Object(d.a)({},e),{},{name:n.name}):e})))})},deleteItem:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{items:Object(u.a)(e.items.filter((function(e){return e.id!==n})))})}}}),m=Object(u.a)(Object(b.c)({serializableCheck:!1})),h=Object(f.c)(Object(s.a)({},j.name,j.reducer)),O=Object(b.a)({reducer:h,middleware:m}),p=(n(59),n(15)),v=n(47),g=n.n(v);function w(e){var t=e.children,n=e.onBtnClick;return Object(r.jsx)("button",{type:"text",className:g.a.btn,onClick:n,children:t})}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var I=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),_=a.createElement("path",{d:"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zm2-8h6v8H5v-8zm5-6H6L5 5H2v2h12V5h-3z"});function E(e,t){var n=e.title,r=e.titleId,c=x(e,["title","titleId"]);return a.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,I,_)}var k=a.forwardRef(E);n.p;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var P=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),H=a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z"});function S(e,t){var n=e.title,r=e.titleId,c=L(e,["title","titleId"]);return a.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,P,H)}var M=a.forwardRef(S);n.p;function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var V=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),C=a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"});function D(e,t){var n=e.title,r=e.titleId,c=B(e,["title","titleId"]);return a.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,V,C)}var R=a.forwardRef(D);n.p;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var X=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),F=a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"});function Q(e,t){var n=e.title,r=e.titleId,c=A(e,["title","titleId"]);return a.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,X,F)}var W=a.forwardRef(Q),Y=(n.p,n.p+"static/media/hobbit.b51949fd.jpg"),Z=n.p+"static/media/human.7d4f270a.jpg",q=n.p+"static/media/dworf.b4018ef2.jpg",G=n.p+"static/media/elf.9ce633a3.jpg",K=n(19),T=n.n(K),U={Hobbit:Y,Human:Z,Dworf:q,Elf:G};function $(e){var t,n=e.item,c=(e.socket,Object(o.b)()),i=Object(o.c)((function(e){return e.race.items})),l=i.length>0&&i.reduce((function(e,t){return e[t.id]=t.name,e}),{}),u=Object(a.useState)({}),f=Object(p.a)(u,2),b=f[0],m=f[1],h=Object(a.useState)(!1),O=Object(p.a)(h,2),v=O[0],g=O[1],y=Object(a.useState)(),x=Object(p.a)(y,2),I=x[0],_=x[1];return Object(r.jsxs)("li",{className:T.a.listItem,id:n.id,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:U[n.race],alt:n.race}),Object(r.jsx)(w,{onBtnClick:function(e){var t=e.target.closest("LI");console.log("click Add button !!! id: ",t.id);c(function(e){return function(t,n){console.log("In Operations!!! -> click Add button : ",e),alert("we don't use this function yet")}}("test data!!!"))},children:Object(r.jsx)(R,{width:"24",height:"24",fill:"#3f6caf"})})]}),Object(r.jsx)("h3",{children:n.name}),(t=n.id,+I===t&&v?Object(r.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),c((t={id:I,name:b[I]},function(e,n){e(j.actions.renameItem(t))})),g(!1)},className:T.a.form,children:[Object(r.jsx)("input",{className:T.a.nameInput,type:"text",value:b[n.id],onChange:function(e){var t=e.target.closest("LI"),n=e.target.value;m((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},t.id,n))}))}}),window.screen.width>420&&Object(r.jsx)("button",{type:"submit",className:T.a.btn,children:Object(r.jsx)(W,{width:"24",height:"24",fill:"#3f6caf"})})]}):Object(r.jsx)(w,{onBtnClick:function(e){var t=e.target.closest("LI");_(t.id),g(!0),m(l)},children:Object(r.jsx)(M,{width:"24",height:"24",fill:"#3f6caf"})})),Object(r.jsx)(w,{onBtnClick:function(e){var t,n=e.target.closest("LI");c((t=+n.id,function(e,n){e(j.actions.deleteItem(t))}))},children:Object(r.jsx)(k,{width:"24",height:"24",fill:"#f00"})})]},n.id)}var ee=n(10),te=n.n(ee);function ne(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.race.items})),n=Object(a.useRef)([]);Object(a.useMemo)((function(){n.current=new WebSocket("ws://testapi.marit.expert:3004")}),[n]);var c=n.current;Object(a.useEffect)((function(){c.addEventListener("open",(function(e){c.send({cmd:"get_list"})}))}),[c]),c.addEventListener("message",(function(t){var n;console.log("Message from server ",t.data),t.data.length>0&&e((n=JSON.parse(t.data),function(e,t){e(j.actions.loadData(n))}))}));var i=["Hobbit","Human","Dworf","Elf"];return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("ul",{className:te.a.list,children:i.length>0?i.map((function(e,n){return Object(r.jsxs)("div",{className:te.a.raceBlock,children:[Object(r.jsx)("h2",{className:te.a.raceName,children:e}),Object(r.jsx)("ul",{className:te.a.raceList,children:t.length>0?t.map((function(t){return e===t.race?Object(r.jsx)($,{item:t},t.id):null})):null})]},n)})):null})})}n(48);var re=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("h1",{children:"list of race"}),Object(r.jsx)(ne,{})]})};n(90),n(91);l.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(o.a,{store:O,children:Object(r.jsx)(re,{})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.5dd539a9.chunk.js.map