(this["webpackJsonpmarit.expert"]=this["webpackJsonpmarit.expert"]||[]).push([[0],{17:function(t,e,n){t.exports={list:"Page_list__3-PbZ",listItem:"Page_listItem__2VESe",nameInput:"Page_nameInput__1qXSM"}},19:function(t,e,n){t.exports={listItem:"ListItem_listItem__19SwC",form:"ListItem_form__3mbn0",nameInput:"ListItem_nameInput__faji3",btn:"ListItem_btn__20Q78"}},48:function(t,e,n){t.exports={btn:"Button_btn__dgIYo"}},59:function(t,e,n){},91:function(t,e,n){},92:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),c=n.n(a),i=n(22),l=n.n(i),o=n(9),s=n(13),u=n(10),f=n(2),b=n(18),d=n(3),j=Object(b.b)({name:"race",initialState:{items:[]},reducers:{loadData:function(t,e){var n=e.payload;return{items:Object(u.a)(n)}},addRaceItem:function(t,e){var n=e.payload;return Object(d.a)(Object(d.a)({},t),{},{items:[n].concat(Object(u.a)(t.items))})},renameItem:function(t,e){var n=e.payload;return Object(d.a)(Object(d.a)({},t),{},{items:Object(u.a)(t.items.map((function(t){return t.id===+n.id?Object(d.a)(Object(d.a)({},t),{},{name:n.name}):t})))})},deleteItem:function(t,e){var n=e.payload;return Object(d.a)(Object(d.a)({},t),{},{items:Object(u.a)(t.items.filter((function(t){return t.id!==n})))})}}}),m=Object(u.a)(Object(b.c)({serializableCheck:!1})),h=Object(f.c)(Object(s.a)({},j.name,j.reducer)),O=Object(b.a)({reducer:h,middleware:m}),p=(n(59),n(29),n(14)),v=n(48),g=n.n(v);function w(t){var e=t.children,n=t.onBtnClick;return Object(r.jsx)("button",{type:"text",className:g.a.btn,onClick:n,children:e})}function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function x(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var I=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),E=a.createElement("path",{d:"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zm2-8h6v8H5v-8zm5-6H6L5 5H2v2h12V5h-3z"});function _(t,e){var n=t.title,r=t.titleId,c=x(t,["title","titleId"]);return a.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:e,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,I,E)}var z=a.forwardRef(_);n.p;function S(){return(S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function M(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var P=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),k=a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z"});function H(t,e){var n=t.title,r=t.titleId,c=M(t,["title","titleId"]);return a.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:e,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,P,k)}var L=a.forwardRef(H);n.p;function V(){return(V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function B(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var C=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),N=a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"});function R(t,e){var n=t.title,r=t.titleId,c=B(t,["title","titleId"]);return a.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:e,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,C,N)}var D=a.forwardRef(R);n.p;function A(){return(A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function J(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var q=a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Q=a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"});function W(t,e){var n=t.title,r=t.titleId,c=J(t,["title","titleId"]);return a.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:e,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,q,Q)}var X=a.forwardRef(W),Y=(n.p,n.p+"static/media/hobbit.b51949fd.jpg"),Z=n.p+"static/media/human.7d4f270a.jpg",F=n.p+"static/media/dworf.b4018ef2.jpg",G=n.p+"static/media/elf.9ce633a3.jpg",K=n(19),T=n.n(K),U={Hobbit:Y,Human:Z,Dworf:F,Elf:G};function $(t){var e,n=t.item,c=Object(o.b)(),i=Object(o.c)((function(t){return t.race.items})),l=i.length>0&&i.reduce((function(t,e){return t[e.id]=e.name,t}),{}),u=Object(a.useState)({}),f=Object(p.a)(u,2),b=f[0],m=f[1],h=Object(a.useState)(!1),O=Object(p.a)(h,2),v=O[0],g=O[1],y=Object(a.useState)(),x=Object(p.a)(y,2),I=x[0],E=x[1];return Object(r.jsxs)("li",{className:T.a.listItem,id:n.id,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:n.race}),Object(r.jsx)("img",{src:U[n.race],alt:n.race}),Object(r.jsx)(w,{onBtnClick:function(t){var e=t.target.closest("LI");console.log("click Add button !!! id: ",e.id);c(function(t){return function(e,n){console.log("In Operations!!! -> click Add button : ",t),alert("we don't use this function yet")}}("test data!!!"))},children:Object(r.jsx)(D,{width:"24",height:"24",fill:"#3f6caf"})})]}),Object(r.jsx)("h3",{children:n.name}),(e=n.id,+I===e&&v?Object(r.jsxs)("form",{onSubmit:function(t){var e;t.preventDefault(),c((e={id:I,name:b[I]},function(t,n){t(j.actions.renameItem(e))})),g(!1)},className:T.a.form,children:[Object(r.jsx)("input",{className:T.a.nameInput,type:"text",value:b[n.id],onChange:function(t){var e=t.target.closest("LI"),n=t.target.value;m((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(s.a)({},e.id,n))}))}}),window.screen.width>420&&Object(r.jsx)("button",{type:"submit",className:T.a.btn,children:Object(r.jsx)(X,{width:"24",height:"24",fill:"#3f6caf"})})]}):Object(r.jsx)(w,{onBtnClick:function(t){var e=t.target.closest("LI");E(e.id),g(!0),m(l)},children:Object(r.jsx)(L,{width:"24",height:"24",fill:"#3f6caf"})})),Object(r.jsx)(w,{onBtnClick:function(t){var e,n=t.target.closest("LI");c((e=+n.id,function(t,n){t(j.actions.deleteItem(e))}))},children:Object(r.jsx)(z,{width:"24",height:"24",fill:"#f00"})})]},n.id)}var tt=n(17),et=n.n(tt);function nt(){var t=Object(o.b)(),e=Object(o.c)((function(t){return t.race.items})),n=Object(a.useRef)([]);Object(a.useMemo)((function(){n.current=new WebSocket("wss://testapi.marit.expert:3004")}),[n]);var c=n.current;return Object(a.useEffect)((function(){c.addEventListener("open",(function(t){c.send({cmd:"get_list"})}))}),[c]),c.addEventListener("message",(function(e){var n;console.log("Message from server ",e.data),e.data.length>0&&t((n=JSON.parse(e.data),function(t,e){t(j.actions.loadData(n))}))})),Object(r.jsx)("ul",{className:et.a.list,children:e.length>0?e.map((function(t){return Object(r.jsx)($,{item:t},t.id)})):null})}var rt=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("h1",{children:"list of race"}),Object(r.jsx)(nt,{})]})};n(90),n(91);l.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(o.a,{store:O,children:Object(r.jsx)(rt,{})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.5e518a1b.chunk.js.map